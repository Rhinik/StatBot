# **VK bot structure**
## Russian version

### Цель
Создать мощного бота для работы со статистикой.

### Обращение
Обращаться к боту можно через:
* сб
* sb

Эти имена будут сокращенно называться **_префиксами_** команды. Во всех примерах будет использовано _sb_.

### Содержимое команды
**_Имя команды_** распологается сразу после префикса (через пробел). Каждая из команд поддерживает свой набор **_флагов_** и **_параметров_**, в своей сумме называемыми **_аргументами_** команды. В качестве примера каждая вводимая вами (условно) команда будет начинаться `$`. Его писать не надо.

Пример команды:
`$ sb alias content=221b, Baker Street; n=адрес; pr=007;`
> Хороший пример с объяснениями будет позже


#### Флаги
Флаги начинаются с `-` и далее содержат свое имя. Они нужны, чтобы передать булевые значения, то есть значения _да/нет_. Их присутствие означает _"да"_, а отсутствие -- _"нет"_. Флаги не имеют привязанности к расположению в команде, т.е. какой-либо флаг вы можете расположить как в начале перечисления аргументов команды, в середине, так и в конце.

Пример:
* `-add`
* `-r`
* `-ignore`


#### Параметры
Все параметры начинаются со своего имени, после ставится `=` (без пробела), а заетм указывается значение параметра. После того, как вы закончили вводить значение параметра, всю конструкцию нужно закончить с помощью `;`. Если ваше значение параметра содержит символы: `=` `;` `-` `\` -- то они должны быть экранированы с помощью символа `\`. То есть вместо `=` -- `\=`, вместо `;` -- `\;` и вместо самого `\` -- `\\`. Это нужно, что бот не путал ваше значение с ключевым символом и не воспринимал, например, "-" как флаг. Опциональность параметра означает, что вы можете не указывать этот параметр и его значение станет по умолчанию.

Пример:
* `name=Tom;` -- параметр, начинающийся на "name", со значением "Tom"
* `cont=Some text;` -- параметр "cont" (а может быть и "content", в зависимости от того, какие параметры принимает команда. Бот сам определит наиболее подходящее имя) со значением "Some text".
* `val=2 + 2 \= 4;` -- параметр, начинающийся на "val", со значением "2 + 2 = 4" (работает экранирование).

#### Существующие имена команд
* ##### alias
Создает алиас (псевдоним) для любой строки. В последующем вы можете использовать его в любой команде. Распознание алиаса является самой приоритетной задачей, поэтому замена алиаса на строку исполняется _раньше всего_. Благодаря этому вы можете заменить _все, что угодно_, включая префкс команды, префикс флагов (`-`) и прочее. Вы можете создать сколько угодно алиасов, каждый из них может указывать на любые значения, в том числе повторяющиеся, но 1 алиас может указывать только на 1 значение. По умолчанию обращение к алиасу идет через `&`, затем идет имя алиаса (слитно). Алиас привязывается к пользователю, поэтому вы можете использоваться один и тот же алиас в _разных беседах_. Если вам понравился чей-то алиас, вы можете добавить его к себе.
  ###### Флаги
  * Отсутствуют

  ###### Параметры
  | Имя параметра | Значение по умолчанию| Минимальная длина символов | Максимальная длина символов | Значение |
  |:-:|:-:|:-:|:-:|:-|
  | prefix | `&` | 0 | 5 | Префикс для алиаса. Мы советуем всегда использовать какой-либо символ/строку в качестве префикса к алиасам, либо использовать значение по умолчанию. Остутствие значения позволит обращаться к алиасу напрямую по имени, т.е. без префикса |
  | name || 1 | 30 | Имя алиаса, по которому вы обращаетесь к алиасу
  | content || 1 | 250 | Содержимое алиаса для восполнения |
  > Заметьте, что некоторые строчки столбца "Значение по умолчанию" **_пустые_**, а это значит, что этот параметр нужно **_обязательно_** передать. Все значения этого столбца будут `обведены вот такой рамочокой`. Соответственно, если значение по умолчанию у параметра будет является **_пробелом_** -- вы увидите  ` `
  | Значение параметра, которое не имеет значения по умолчанию и является обязательным | Значение параметра, имееющее пробел по умолчанию |
  |:-:|:-:|
  ||` `|
  >
  > Будьте внимательны

  ###### Ограничения
  * Имя алиаса может состоять только из одного слова. Пробелы недопустимы
  * Поиск алиаса происходит лишь над _одной_ строкой (командой). Это значит, что вы не можете сделать алаис для алиаса.

  ###### Примеры
  * `$ sb alias name=phone; cont=+7 (987) 654-32-10;` создаст алиас с префиксом **&**, именем, по которому можно обратиться **phone** и содержимым **+7 (987) 654-32-10** (номер выдуман). Теперь в любой команде мы можем написать где-то **&phone** и бот подставит значение **+7 (987) 654-32-10** туда.
  * `$ sb alias content=221b, Baker Street; n=адрес; pr=007;` создаст алиас с префиксом **007**, именем **cont** и значением **адрес**
  > Еще раз напомним, что бот автоматически найдет имя параметра по его сокращению. Поиск начинается от начала строки имени каждого параметра с заданным вами шаблоном. Если ни одно из возможных имен параметра не начинается на заданный вами шаблон, поиск будет происходить по всем именам заново, но уже универсальным способом на нахождение самого 'сильного' совпадения. То же самое с флагами
